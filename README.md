# Какое ты дерево?
## Описание

**"Какое ты дерево?"** – алгоритмическая интерактивная акдаемическая пьеса, использующая игрушечный глокеншпиль, кастаньеты и трубку вау-вау.

Пользователь проходит по сценарию: отвечая на вопросы, он определяет, какие сэмплы будут включаться или выключаться.

Уникальный аудиоопыт формируется двумя факторами:
- Как долго пользователь будет думать над вопросом: пока пользователь не ответил, музыка не меняется
– Какой вариант ответа выберет пользователь: разные варианты ответа по-разному влияют на музыку (включают/выключают разные сэмплы)

Заложенный в пьесу алгоритм позволяет перерабатывать ее сценарий и расширять набор инструментов и сэмплов.

## Авторы

Идея и музыка – [Софья Филянина](https://vk.com/buongiorno001)
Реализация веб-сайта, дизайн – [Данил Низамов](https://vk.com/nizamovdanil)

## Что внутри:

- _/sounds_ – набор сэмлов, в .wav формате
- _/scenarios_ – набор сценариев; на данный момент поддерживается воспроизведение одного сценария, сохраненного в файле **node.json**
- */__utils/score_generator.py* – скрипт для генерации диаграммы сценария

## Сценарий:

Сценарий записывается как **.json** файл. Каждый шаг сценария – JSON объект, со следующими полями:
- **question** (string): вопрос, который увидит пользователь.
- **delay** (int): задержка в мс перед показом этого вопроса.
- **subheader** (string): дополнительный текст под вопросом.
- **image** (string): путь к файлу с изображением к вопросу. **Пока не поддерживается**.
- **final** (boolean): используется для разделения промежуточных и итоговых страниц. Если true, то страница будет рендериться с дополнительными элементами (на данный момент это сведения об авторах).
- **options** (list[Object]): список опций.

Каждая опция содержит следующие поля:
- **text** (string): вариант ответа.
- **action** (string): действие, соответствующие опции.
- **next** (string): id следующего вопроса при выборе данной опции.

Действия кодируются так:
- "+<filename>" – включить сэмпл с названием "filename.wav".
- "-<filename>" – включить сэмпл с названием "filename.wav".
- Если действий несколько, они записываются через ;

Пример:

```json
"2": {
        "question": "Question2",
        "delay": 2000,
        "options": [
            {"text": "Option1", "action": "+2a", "next": "3"},
            {"text": "Option2", "action": "+2b", "next": "4"}
        ],
        "image": "img2.png",
        "final": false
    },
```

---
